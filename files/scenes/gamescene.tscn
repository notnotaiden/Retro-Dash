[gd_scene load_steps=15 format=3 uid="uid://c70mbn36mvo4n"]

[ext_resource type="Script" uid="uid://cv773ro1sd54r" path="res://files/scripts/gamescene/gamescene.gd" id="1_fvvnh"]
[ext_resource type="PackedScene" uid="uid://cruwwsh44nrac" path="res://files/objects/player.tscn" id="1_u87vo"]
[ext_resource type="Script" uid="uid://c6lyy3rsqsmo4" path="res://files/scripts/gamescene/camera.gd" id="2_fr3gv"]
[ext_resource type="Texture2D" uid="uid://c03nycwquudoo" path="res://files/assets/sprites/bg.png" id="2_vcuyv"]
[ext_resource type="Texture2D" uid="uid://7qwwwjy33rhu" path="res://files/assets/sprites/ground.png" id="3_xig57"]
[ext_resource type="FontFile" uid="uid://csgb3uaucubi4" path="res://files/assets/fonts/VCR_OSD_MONO_1.001.ttf" id="4_le3s8"]
[ext_resource type="PackedScene" uid="uid://cqod1o7ku1gik" path="res://files/scenes/death_ui.tscn" id="5_vuyq8"]
[ext_resource type="PackedScene" uid="uid://cown771khe0pp" path="res://files/scenes/pause_menu.tscn" id="7_vcuyv"]
[ext_resource type="Theme" uid="uid://n7dt8mjg02qd" path="res://files/assets/resources/ui_theme.tres" id="7_xig57"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_dnfnw"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_u87vo"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_dnfnw"]
bg_color = Color(0.24840015, 0.24840021, 0.24840006, 1)
border_width_left = 3
border_width_top = 3
border_width_right = 3
border_width_bottom = 3
corner_radius_top_left = 5
corner_radius_top_right = 5
corner_radius_bottom_right = 5
corner_radius_bottom_left = 5

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_vcuyv"]
content_margin_left = 2.0
content_margin_top = 2.0
content_margin_right = 2.0
content_margin_bottom = 2.0
bg_color = Color(0.018584823, 0.733077, 0.4778821, 1)
border_width_left = 3
border_width_top = 3
border_width_right = 3
border_width_bottom = 3
corner_radius_top_left = 6
corner_radius_top_right = 6
corner_radius_bottom_right = 6
corner_radius_bottom_left = 6
corner_detail = 6

[sub_resource type="Curve" id="Curve_fr3gv"]
_data = [Vector2(0.00378789, 1), 0.0, 0.0, 0, 0, Vector2(1, 0.17509735), 0.0, 0.0, 0, 0]
point_count = 2

[node name="GameScene" type="Node2D"]
script = ExtResource("1_fvvnh")

[node name="Camera" type="Camera2D" parent="."]
position = Vector2(640, 360)
script = ExtResource("2_fr3gv")

[node name="ParallaxBG" type="Parallax2D" parent="."]
process_mode = 1
scroll_scale = Vector2(0.1, 0.1)
scroll_offset = Vector2(215, 66)
repeat_size = Vector2(260, 190)
repeat_times = 10

[node name="BG" type="Sprite2D" parent="ParallaxBG"]
position = Vector2(640, 360)
texture = ExtResource("2_vcuyv")

[node name="Gameplay" type="Node" parent="."]

[node name="Player" parent="Gameplay" instance=ExtResource("1_u87vo")]
position = Vector2(-64, 499)

[node name="AttemptsTxt" type="Label" parent="Gameplay"]
offset_left = 199.0
offset_top = 253.0
offset_right = 515.0
offset_bottom = 322.79166
theme_override_constants/outline_size = 10
theme_override_fonts/font = ExtResource("4_le3s8")
theme_override_font_sizes/font_size = 60
text = "Attempt 1"

[node name="Level" type="Node" parent="."]

[node name="Checkpoints" type="Node" parent="."]

[node name="ParallaxCeiling" type="Parallax2D" parent="." groups=["Ceiling"]]
process_mode = 1
z_index = 1
scroll_offset = Vector2(24, -5)
repeat_size = Vector2(1350, 0)
repeat_times = 5

[node name="Ceiling" type="Sprite2D" parent="ParallaxCeiling" groups=["Ceiling"]]
position = Vector2(14, -5000)
rotation = 3.1415927
scale = Vector2(1, 1.1027107)
texture = ExtResource("3_xig57")

[node name="Ceiling" type="StaticBody2D" parent="ParallaxCeiling/Ceiling" groups=["Ceiling"]]
position = Vector2(1.9999883, -117.89123)
scale = Vector2(1, 0.48375663)

[node name="Hitbox" type="CollisionShape2D" parent="ParallaxCeiling/Ceiling/Ceiling" groups=["Ceiling"]]
position = Vector2(577.5, 1.5)
shape = SubResource("WorldBoundaryShape2D_dnfnw")

[node name="ParallaxGround" type="Parallax2D" parent="." groups=["Ground"]]
process_mode = 1
z_index = 1
repeat_size = Vector2(1350, 0)
repeat_times = 5

[node name="Ground" type="Sprite2D" parent="ParallaxGround" groups=["Ground"]]
position = Vector2(4, 665)
texture = ExtResource("3_xig57")

[node name="Ground" type="StaticBody2D" parent="ParallaxGround/Ground" groups=["Ground"]]
position = Vector2(-4, -125)

[node name="Hitbox" type="CollisionShape2D" parent="ParallaxGround/Ground/Ground" groups=["Ground"]]
position = Vector2(577.5, 1.5)
shape = SubResource("WorldBoundaryShape2D_u87vo")

[node name="UI" type="CanvasLayer" parent="."]

[node name="ProgressBar" type="ProgressBar" parent="UI"]
anchors_preset = 10
anchor_right = 1.0
offset_left = 332.0
offset_top = 12.0
offset_right = -319.0
offset_bottom = 35.0
grow_horizontal = 2
theme_override_fonts/font = ExtResource("4_le3s8")
theme_override_font_sizes/font_size = 16
theme_override_styles/background = SubResource("StyleBoxFlat_dnfnw")
theme_override_styles/fill = SubResource("StyleBoxFlat_vcuyv")
value = 50.0

[node name="PauseButton" type="Button" parent="UI"]
process_mode = 3
anchors_preset = -1
anchor_left = 0.99500006
anchor_right = 0.99500006
offset_left = -76.6001
offset_top = 6.0
offset_right = -0.60009766
offset_bottom = 80.0
theme = ExtResource("7_xig57")

[node name="PlaceCheckpoint" type="Button" parent="UI"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -96.0
offset_top = -120.0
offset_right = -3.0
offset_bottom = -29.0
theme = ExtResource("7_xig57")

[node name="Keybind" type="Label" parent="UI/PlaceCheckpoint"]
layout_mode = 0
offset_left = 34.0
offset_top = 68.0
offset_right = 74.0
offset_bottom = 112.0
theme_override_fonts/font = ExtResource("4_le3s8")
theme_override_font_sizes/font_size = 50
text = "Z"

[node name="DeleteCheckpoint" type="Button" parent="UI"]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = 6.0
offset_top = -119.0
offset_right = 99.0
offset_bottom = -28.0
theme = ExtResource("7_xig57")

[node name="Keybind" type="Label" parent="UI/DeleteCheckpoint"]
layout_mode = 0
offset_left = 34.0
offset_top = 68.0
offset_right = 74.0
offset_bottom = 112.0
theme_override_fonts/font = ExtResource("4_le3s8")
theme_override_font_sizes/font_size = 50
text = "X"

[node name="DeathUI" parent="UI" instance=ExtResource("5_vuyq8")]
visible = false

[node name="PauseMenu" parent="UI" instance=ExtResource("7_vcuyv")]
visible = false

[node name="SongPlayer" type="AudioStreamPlayer" parent="."]

[node name="SceneParticles" type="CPUParticles2D" parent="."]
position = Vector2(2725, -510.99997)
scale = Vector2(5, 5)
amount = 80
emission_shape = 2
emission_sphere_radius = 128.0
gravity = Vector2(-200, 0)
scale_amount_min = 5.0
scale_amount_max = 10.0
scale_amount_curve = SubResource("Curve_fr3gv")

[node name="PracticeModeDelayReset" type="Timer" parent="."]

[connection signal="player_death" from="Gameplay/Player" to="." method="on_player_death"]
[connection signal="mouse_entered" from="UI/PauseButton" to="." method="on_ui_mouse_entered"]
[connection signal="mouse_exited" from="UI/PauseButton" to="." method="on_ui_mouse_exited"]
[connection signal="pressed" from="UI/PauseButton" to="." method="pausebtn_pressed"]
[connection signal="mouse_entered" from="UI/PlaceCheckpoint" to="." method="on_ui_mouse_entered"]
[connection signal="mouse_exited" from="UI/PlaceCheckpoint" to="." method="on_ui_mouse_exited"]
[connection signal="pressed" from="UI/PlaceCheckpoint" to="." method="place_checkpoint"]
[connection signal="mouse_entered" from="UI/DeleteCheckpoint" to="." method="on_ui_mouse_entered"]
[connection signal="mouse_exited" from="UI/DeleteCheckpoint" to="." method="on_ui_mouse_exited"]
[connection signal="pressed" from="UI/DeleteCheckpoint" to="." method="delete_checkpoint"]
[connection signal="timeout" from="PracticeModeDelayReset" to="." method="on_timer_finished"]
